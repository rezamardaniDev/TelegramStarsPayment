# ุฑุงูููุง ุงุณุชูุงุฏู ุงุฒ ูพุฑุฏุงุฎุช ุจุง Stars ุฏุฑ ุฑุจุงุช ุชูฺฏุฑุงู

## ๐ ููุฏูู
ุฏุฑ ุงู ุฑุงูููุง ุงุฏ ูฺฏุฑู ฺฉู ฺฺฏููู ุจุง ุงุณุชูุงุฏู ุงุฒ ุงุฑุฒ **Telegram Stars** ฺฉ ูุงฺฉุชูุฑ ุชูุณุท ุฑุจุงุช ุฎูุฏ ุจุฑุง ฺฉุงุฑุจุฑ ุงุฑุณุงู ฺฉูู ู ูพุณ ุงุฒ ูพุฑุฏุงุฎุช ููููุ ุจู ฺฉุงุฑุจุฑ ูพุงู ุงุฑุณุงู ุดูุฏ ฺฉู ูููู ุจูุฏู ูพุฑุฏุงุฎุช ุฑุง ุชุฃุฏ ูโฺฉูุฏ.

---

## ๐ณ ุงุฑุณุงู ูุงฺฉุชูุฑ
ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงูฺฉุดู **sendInvoice** ูโุชูุงูู ฺฉ ูุงฺฉุชูุฑ ุจู ฺฉุงุฑุจุฑ ุงุฑุณุงู ฺฉูู.

```php
function sendInvoice($chat_id, $title, $description, $payload, $currency, $amount, $provider_token) {
    $data = [
        'chat_id' => $chat_id,
        'title' => $title,
        'description' => $description,
        'payload' => $payload,
        'provider_token' => $provider_token,
        'currency' => $currency,
        'prices' => [
            ['label' => $title, 'amount' => $amount]
        ]
    ];

    return telegramRequest('sendInvoice', $data);
}
```

### ุชูุถุญ ูพุงุฑุงูุชุฑูุง:
- **chat_id:** ุขุฏ ุนุฏุฏ ฺฉุงุฑุจุฑ ฺฉู ูุงฺฉุชูุฑ ุจู ุขู ุงุฑุณุงู ูโุดูุฏ.
- **title:** ุนููุงู ูุงฺฉุชูุฑ.
- **description:** ุชูุถุญุงุช ูุญุตูู ุง ุฎุฏูุงุช.
- **payload:** ฺฉ ุดูุงุณู ุฏูุฎูุงู ฺฉู ุจุนุฏุง ุจุชูุงูุฏ ูุงฺฉุชูุฑ ุฑุง ูพุฏุง ฺฉูุฏ
- **provider_token:** ุงู ูพุงุฑุงูุชุฑ ฺฉ ุฑุดุชู ุฎุงู ุจุงุฏ ุจุงุดุฏ
- **currency:** ููุน ุงุฑุฒ (ุจุฑุง **XTR** ุงุฒ `STARS` ุงุณุชูุงุฏู ฺฉูุฏ).
- **amount:** ุชุนุฏุงุฏ stars ฺฉู ฺฉุงุฑุจุฑ ุจุงุฏ ูพุฑุฏุงุฎุช ฺฉูุฏ

---

## ๐ ููุฏู ุขูพุฏุช ููููุช ูพุฑุฏุงุฎุช
ูพุณ ุงุฒ ูพุฑุฏุงุฎุช ููููุ ุชูฺฏุฑุงู ุขูพุฏุช ุจุง ููุฏ **successful_payment** ุงุฑุณุงู ูโฺฉูุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ ุฒุฑ ูโุชูุงูุฏ ุขู ุฑุง ููุฏู ฺฉูุฏ:

```php
$update = json_decode(file_get_contents('php://input'), true);

if (isset($update['message']['successful_payment'])) {
    $payment = $update['message']['successful_payment'];
    $chat_id = $update['message']['chat']['id'];

    // ุงุทูุงุนุงุช ูพุฑุฏุงุฎุช
    $currency = $payment['currency'];
    $total_amount = $payment['total_amount'];
    $payload = $payment['invoice_payload'];

    // ุงูุฌุงู ุงูุฏุงูุงุช ูุงุฒู ูพุณ ุงุฒ ูพุฑุฏุงุฎุช ูููู
    // ูุซูุงู ุงุฑุณุงู ูพุงู ุจู ฺฉุงุฑุจุฑ
    $bot->sendMessage($chat_id, "ูพุฑุฏุงุฎุช ุจุง ููููุช ุงูุฌุงู ุดุฏ! 
ููุฏุงุฑ: {$total_amount} {$currency}");

    // ุฐุฎุฑู ุงุทูุงุนุงุช ุฏุฑ ุฏุชุงุจุณ ุง ูุฑ ฺุฒ ุฏฺฏุฑ ...
}
```

---

## โญ ุณุชุงุฑู ุฏุงุฏู
ุงฺฏุฑ ุงู ุฑุงูููุง ุจุฑุง ุดูุง ููุฏ ุจูุฏุ ูุทูุงู ุจู ุขู ุณุชุงุฑู ุจุฏูุฏ ู ุชุฌุฑุจู ุฎูุฏ ุฑุง ุจุง ุฏฺฏุฑุงู ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑุฏ..


